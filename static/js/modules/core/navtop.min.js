ldc.register("navtop",["auth"],function(n){var e,t,r,s,o,i,u;if(e=n.auth,t={signed:!1,pro:!1,user:{}},r=function(n){return t.signed=!!(n.user||(n.user={})).key,t.pro=(n.user||(n.user={})).plan,t.user=n.user||(n.user={}),o.render()},s=document.querySelector("#nav-top nav"),o=new ldView({root:ld$.find(s,"[ld-scope]",0),handler:{displayname:function(n){var e;return e=n.node,e.innerText=t.user.displayname||"You"},login:function(n){return n.node.classList.toggle("d-none",t.signed)},signup:function(n){return n.node.classList.toggle("d-none",t.signed)},"upgrade-now":function(n){return n.node.classList.toggle("d-none",t.pro)},profile:function(n){return n.node.classList.toggle("d-none",!t.signed)},avatar:function(n){var e;if(e=n.node,t.signed)return e.style.backgroundImage="url(/s/avatar/"+t.user.key+".png)"},plan:function(n){var e;return e=n.node,e.innerText=t.pro?"PRO":"FREE",e.classList.toggle("badge-primary",t.pro),e.classList.toggle("badge-secondary",!t.pro)}}}),ldc.on("auth.change",r),e.get().then(r),i=(s.getAttribute("data-transition")||"").split(";").map(function(n){return n.split(" ").filter(function(n){return n})}),u=ld$.find(document,s.getAttribute("data-transition-target"),0),i.length&&u)return new IntersectionObserver(function(n){var e;if(e=n[0])return i[0].map(function(n){return s.classList.toggle(n,e.isIntersecting)}),i[1].map(function(n){return s.classList.toggle(n,!e.isIntersecting)})},{threshold:.1}).observe(u)});