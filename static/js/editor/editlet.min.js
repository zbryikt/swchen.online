function import$(t,e){var n={}.hasOwnProperty;for(var i in e)n.call(e,i)&&(t[i]=e[i]);return t}var editlet,slice$=[].slice;(editlet=function(t){return null==t&&(t={}),this}).prototype=import$(Object.create(Object.prototype),{on:function(t,e){var n;return((n=this.evtHandler?this.evtHandler:this.evtHandler={})[t]||(n[t]=[])).push(e)},fire:function(t){var e,n,i,r,o,c=[];for(e=slice$.call(arguments,1),n=0,r=(i=(this.evtHandler||{})[t]||[]).length;n<r;++n)o=i[n],c.push(o.apply(this,e));return c},set:function(t){t.content,t.type,t.name},get:function(){},config:function(){}}),editlet.cm=function(t){var e,n,i,r=this;return null==t&&(t={}),this.lc={},this.opt=t,this.root="string"==typeof t.root?document.querySelector(t.root):t.root,this.cm=e=CodeMirror(this.root,import$({mode:"htmlmixed",lineNumbers:!0,theme:"ayu-mirage",lineWrapping:!0,keyMap:"default",showCursorWhenSelecting:!0,viewportMargin:1/0},t.cm||{})),n=this.root.getBoundingClientRect(),e.setSize(n.width,n.height),e.setValue(""),i={html:"htmlmixed",styl:"stylus",js:"javascript"},e.on("change",debounce(function(){var t;if(!r.lc.type&&(t=transpiler.detect(e.getValue())).name)return e.setOption("mode",i[t.name]||t.name)})),e.on("change",function(){return r.fire("change")}),this},editlet.cm.prototype=import$(Object.create(editlet.prototype),{set:function(t){var e,n,i;if(e=t.content,n=t.type,i=t.name,this.cm.setValue(e),null!=n&&(this.lc.type=n),null!=i)return this.lc.name=i},get:function(){return this.cm.getValue()},config:function(){}});